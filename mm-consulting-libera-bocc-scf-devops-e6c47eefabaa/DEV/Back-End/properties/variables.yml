DB_CONNECTION: &DB_CONNECTION
  DB_HOST: 54.202.150.53
  DB_PORT: 3306
  DB_USER: root
  DB_PASSWORD: M3nd4ld3
  DB_NAME: liberadbdev

CUSTOM_MESSAGES: &CUSTOM_MESSAGES
  HOST: 'https://d1s62nv81urhvl.cloudfront.net'
  RESET_PASSWORD_PATH: '/reset-password'

COGNITO_VARS: &COGNITO_VARS
  COGNITO_USER_POOL_ID: ${cf:libera-environment-${self:provider.stage}.UserPoolId}
  COGNITO_ISS: https://cognito-idp.us-west-2.amazonaws.com

S3_BUCKET_VARS: &S3_BUCKET_VARS
  S3_BUCKET_REGION: us-west-2
  S3_BUCKET_NAME: libera-${self:provider.stage}-resources
  S3_FILE_PATH_PREFIX: enterprises/{enterpriseId}/temp/
  S3_DOCUMENTATION_FILE_PATH_PREFIX: enterprises/{enterpriseId}/
  S3_DOCUMENTS_EXTENSION: .pdf
  S3_DOCUMENTS_MIME_TYPE: application/pdf 
  S3_UPLOAD_LINK_EXPIRATION_TIME: 3600000
  S3_UPLOAD_LINK_ACL: bucket-owner-full-control

SES_VARS: &SES_VARS
  SES_REGION: us-west-2
  SES_API_VERSION: 2010-12-01
  SES_CHARSET: UTF-8
  SES_SOURCE: ferrari@mediomelon.mx

# PING functions
PING_FUNCTION_ENV:
  <<: *DB_CONNECTION
  
COGNITO_PRE_SIGNUP_TRIGGER_ENV:
  <<: *DB_CONNECTION

# ME functions
ME_PROFILE_UPDATE_ENV:
  <<: *DB_CONNECTION

ME_AUTHORIZER_ENV:
  <<: *COGNITO_VARS
  <<: *DB_CONNECTION

POST_CONFIRMATION_TRIGGER_ENV:
  <<: *COGNITO_VARS
  <<: *DB_CONNECTION
  <<: *CUSTOM_MESSAGES
  
COGNITO_PRE_AUTHENTICATION_TRIGGER_ENV:
  <<: *DB_CONNECTION

COGNITO_CUSTOM_MESSAGE_TRIGGER_ENV:
  <<: *DB_CONNECTION
  <<: *CUSTOM_MESSAGES
  
PASSWORD_UPDATE_TOKEN_FUNCTION_ENV:
  <<: *DB_CONNECTION 

DELETE_PASSWORD_UPDATE_TOKEN_FUNCTION_ENV:
  <<: *DB_CONNECTION

GET_ENTERPRISE_DOCUMENTATION_BY_ENTERPRISE_ID_ENV:
  <<: *COGNITO_VARS
  <<: *DB_CONNECTION
  
CREATE_ENTERPRISE_FILE_ENV:
  <<: *S3_BUCKET_VARS
  <<: *DB_CONNECTION

S3_CREDENTIALS_PATH_ENV:
  <<: *S3_BUCKET_VARS
  <<: *DB_CONNECTION
  
ENTERPRISES_FUNCTION_ENV:
  <<: *DB_CONNECTION

PRE_TOKEN_GENERATION_TRIGGER_ENV:
  <<: *DB_CONNECTION
  <<: *COGNITO_VARS

CREATE_ENTERPRISE_ENV:
  <<: *DB_CONNECTION
  <<: *COGNITO_VARS
  
DELETE_DOCUMENT_FUNCTION_ENV:
  <<: *DB_CONNECTION

SEND_REQUEST_FUNCTION_ENV:
  <<: *DB_CONNECTION
  NOTIFICATION_SUBJECT: CAMBIO_DE_ESTADO
  
UPDATE_ENTERPRISE_STATUS_ENV:
  <<: *DB_CONNECTION
  <<: *SES_VARS
  CHANGE_STATUS_ENTERPRISE_SUBJECT: Change Status Enterprise Subject
  CHANGE_STATUS_MESSAGE_BODY: el estado de tu solicitud cambiÃ³ a  {status} debido a {explanation};

UPDATE_DOCUMENTATION_STATUS_ENV:
  <<: *DB_CONNECTION
  <<: *SES_VARS
  CHANGE_STATUS_ENTERPRISE_DOCUMENTATION_SUBJECT: Change Status Enterprise Documentation Subject